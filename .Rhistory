knitr::opts_chunk$set(echo = TRUE)
df=read.csv("Chicago Police Stops Dataset.csv")
df
str(df)
summary(df)
colSums(is.na(df))
data=read.csv("Chicago Police Stops Dataset.csv")
data
str(data)
# Importing required libraries for the EDA.
library(ezids)
library(ggplot2)
xbalesummary(df)
xkablesummary(data, title = "Summary of Dataset")
colSums(is.na(dataset))
colSums(is.na(data))
#removing missing values
cleaned_data<-na.omit(data)
str(data)
#removing missing values
cleaned_data<-na.omit(data)
str(cleaned_data)
xkablesummary(cleaned_data)
xkablesummary(cleaned_data, title = "Summary of Cleaned Dataset")
nrow(cleaned_data)
colSums(is.na(cleaned_data))
nrow(cleaned_data)
colSums(is.na(cleaned_data))
knitr::opts_chunk$set(echo = TRUE)
arrest_race <- table(cleaned_data$subject_race, cleaned_data$arrest_made)
prop.table(arrest_race, 1)
barplot(prop.table(arrest_race, 1), beside=TRUE, col=c("lightblue", "red"), main="Proportion of Arrests by Race")
barplot(table(cleaned_data$subject_race), main="Distribution of Stops by Race", col="lightblue")
# Just an initial exploration
barplot(table(cleaned_data$subject_race), main="Distribution of Stops by Race", col="lightblue")
boxplot(cleaned_data$age ~ cleaned_data$subject_race, main="Age Distribution by Race")
colnames(cleaned_data)  # Check column names in the dataset
boxplot(cleaned_data$subject_age ~ cleaned_data$subject_race, main="Age Distribution by Race")
boxplot(cleaned_data$subject_age ~ cleaned_data$subject_race, main="Age Distribution by Race")
boxplot(cleaned_data$officer_age ~ cleaned_data$subject_race, main="Officer Age vs Subject Race")
boxplot(cleaned_data$officer_age ~ cleaned_data$subject_race, main="Officer Age vs Subject Race")
clean_subject_age=outlierKD2(clean_dataset,subject_age,rm=TRUE,qqplt = TRUE)
library(ezids)
clean_subject_age=outlierKD2(clean_dataset,subject_age,rm=TRUE,qqplt = TRUE)
clean_subject_age=outlierKD2(cleaned_data,subject_age,rm=TRUE,qqplt = TRUE)
cleansubject_age=outlierKD2(cleaned_data,subject_age,rm=TRUE,qqplt = TRUE)
cleanofficer_age=outlierKD2(cleaned_data,officer_age,rm=TRUE,qqplt = TRUE)
cleanofficer_age=outlierKD2(cleaned_data,officer_age,rm=TRUE,qqplt = TRUE)
# updating the cleaned data for the subject_age column
cleaned_data$subject_age <- cleansubject_age
# Similarly for officer_age
cleaned_data$officer_age <- cleanofficer_age
nrow(cleaned_data)
length(cleaned_data$subject_age)  # Total number of rows in 'subject_age' column
```{r}
boxplot(cleaned_data$subject_age ~ cleaned_data$subject_race, main="Age Distribution by Race")
boxplot(cleaned_data$subject_age ~ cleaned_data$subject_race, main="Age Distribution by Race")
str(cleansubject_age)  # Check the structure of cleansubject_age
str(cleanofficer_age)  # Check the structure of cleanofficer_age
str(cleaned_data)
# Check if the columns are dataframes
str(cleaned_data$subject_age)
str(cleaned_data$officer_age)
# If they are nested dataframes, extract the numeric values:
cleaned_data$subject_age <- cleaned_data$subject_age$subject_age
cleaned_data$officer_age <- cleaned_data$officer_age$officer_age
# If they are nested dataframes, extract the numeric values:
cleaned_data$subject_age <- cleaned_data$subject_age$subject_age
# Check if the columns are dataframes
str(cleaned_data$subject_age)
str(cleaned_data$officer_age)
# If they are nested dataframes, extract the numeric values:
cleaned_data$subject_age <- cleaned_data$subject_age$subject_age
cleansubject_age=outlierKD2(cleaned_data,subject_age,rm=TRUE,qqplt = TRUE)
cleanofficer_age=outlierKD2(cleaned_data,officer_age,rm=TRUE,qqplt = TRUE)
# Extract the original values from the nested dataframe
cleaned_data$subject_age <- cleansubject_age$subject_age
cleaned_data$officer_age <- cleanofficer_age$officer_age
str(Cleaned_data)
str(cleaned_data)
str(cleaned_data)
cleansubject_age=outlierKD2(cleaned_data,subject_age,rm=TRUE,qqplt = TRUE)
boxplot(cleaned_data$subject_age ~ cleaned_data$subject_race, main="Age Distribution by Race")
knitr::opts_chunk$set(echo = TRUE)
# Importing required libraries for the EDA.
library(ezids)
library(ggplot2)
data=read.csv("Chicago Police Stops Dataset.csv")
data
str(data)
xkablesummary(data, title = "Summary of Dataset")
colSums(is.na(data))
#removing missing values
cleaned_data<-na.omit(data)
str(cleaned_data)
xkablesummary(cleaned_data, title = "Summary of Cleaned Dataset")
colSums(is.na(cleaned_data))
# Just an initial exploration
barplot(table(cleaned_data$subject_race), main="Distribution of Stops by Race", col="lightblue")
boxplot(cleaned_data$subject_age ~ cleaned_data$subject_race, main="Age Distribution by Race")
boxplot(cleaned_data$officer_age ~ cleaned_data$subject_race, main="Officer Age vs Subject Race")
boxplot(cleaned_data$officer_age ~ cleaned_data$subject_race, main="Officer Age vs Subject Race")
cleansubject_age=outlierKD2(cleaned_data,subject_age,rm=TRUE,qqplt = TRUE)
cleanofficer_age=outlierKD2(cleaned_data,officer_age,rm=TRUE,qqplt = TRUE)
str(cleaned_data)
# Removing outliers from subject_age using IQR
Q1_subject <- quantile(cleaned_data$subject_age, 0.25)
Q3_subject <- quantile(cleaned_data$subject_age, 0.75)
IQR_subject <- Q3_subject - Q1_subject
# Define lower and upper bounds for subject_age
lower_bound_subject <- Q1_subject - 1.5 * IQR_subject
upper_bound_subject <- Q3_subject + 1.5 * IQR_subject
# Filter out rows with outliers in subject_age
cleaned_data <- cleaned_data[cleaned_data$subject_age >= lower_bound_subject & cleaned_data$subject_age <= upper_bound_subject, ]
# Removing outliers from officer_age using IQR
Q1_officer <- quantile(cleaned_data$officer_age, 0.25)
Q3_officer <- quantile(cleaned_data$officer_age, 0.75)
IQR_officer <- Q3_officer - Q1_officer
# Define lower and upper bounds for officer_age
lower_bound_officer <- Q1_officer - 1.5 * IQR_officer
upper_bound_officer <- Q3_officer + 1.5 * IQR_officer
# Filter out rows with outliers in officer_age
cleaned_data <- cleaned_data[cleaned_data$officer_age >= lower_bound_officer & cleaned_data$officer_age <= upper_bound_officer, ]
nrow(cleaned_data)
summary(cleaned_data$subject_age)
summary(cleaned_data$officer_age)
summary(cleaned_data$subject_age)
summary(cleaned_data$officer_age)
str(cleaned_data)
# Removing outliers from subject_age using IQR
Q1_subject <- quantile(cleaned_data$subject_age, 0.25)
Q3_subject <- quantile(cleaned_data$subject_age, 0.75)
IQR_subject <- Q3_subject - Q1_subject
# Define lower and upper bounds for subject_age
lower_bound_subject <- Q1_subject - 1.5 * IQR_subject
upper_bound_subject <- Q3_subject + 1.5 * IQR_subject
# Filter out rows with outliers in subject_age
cleaned_data <- cleaned_data[cleaned_data$subject_age >= lower_bound_subject & cleaned_data$subject_age <= upper_bound_subject, ]
# Removing outliers from officer_age using IQR
Q1_officer <- quantile(cleaned_data$officer_age, 0.25)
Q3_officer <- quantile(cleaned_data$officer_age, 0.75)
IQR_officer <- Q3_officer - Q1_officer
# Define lower and upper bounds for officer_age
lower_bound_officer <- Q1_officer - 1.5 * IQR_officer
upper_bound_officer <- Q3_officer + 1.5 * IQR_officer
# Filter out rows with outliers in officer_age
cleaned_data <- cleaned_data[cleaned_data$officer_age >= lower_bound_officer & cleaned_data$officer_age <= upper_bound_officer, ]
nrow(cleaned_data)
summary(cleaned_data$subject_age)
summary(cleaned_data$officer_age)
str(cleaned_data)
dataset$subject_race <- as.numeric(factor(dataset$subject_race))
knitr::opts_chunk$set(echo = TRUE)
str(cleaned_data)
# Remove rows where subject_race or officer_race is "unknown"
cleaned_data <- cleaned_data[!(cleaned_data$subject_race == "unknown" | cleaned_data$officer_race == "unknown"), ]
# Ensure subject_race and officer_race are factors
cleaned_data$subject_race <- as.factor(cleaned_data$subject_race)
cleaned_data$officer_race <- as.factor(cleaned_data$officer_race)
str(cleaned_data)
str(cleaned_data$subject_race)
str(cleaned_data)
# Chi-Square test for association between subject_race and officer_race
chisq_result <- chisq.test(table(cleaned_data$subject_race, cleaned_data$officer_race))
# Print the result
chisq_result
str(cleaned_data)
# Perform ANOVA to check if officer race impacts subject race in determining arrests
anova_result <- aov(officer_age ~ subject_race * officer_race, data = cleaned_data)
# Print the summary of the ANOVA result
summary(anova_result)
tukey_result <- TukeyHSD(anova_result)
tukey_result <- TukeyHSD(anova_result)
print(tukey_result)
Sys.Date()
data=read.csv("Chicago Police Stops Dataset.csv")
data.head()
data=read.csv("Chicago Police Stops Dataset.csv")
head(data)
data=read.csv("Chicago Police Stops Dataset.csv")
head(data, 10)
boxplot(cleaned_data$officer_age ~ cleaned_data$officer_race, main="Officer Age vs Subject Race")
boxplot(cleaned_data$officer_age ~ cleaned_data$subject_race, main="Officer Age vs Subject Race")
boxplot(cleaned_data$officer_age ~ cleaned_data$officer_race, main="Officer Age Distribution by Age")
boxplot(cleaned_data$subject_age ~ cleaned_data$subject_race, main="Subject Age Distribution by Race")
library(bit64)
# Chi-Square test for association between subject_race and officer_race
chisq_result <- chisq.test(table(cleaned_data$subject_race, cleaned_data$officer_race))
# Print the result
cat("The chi-square result is", chisq_result,  "\n")
# Chi-Square test for association between subject_race and officer_race
chisq_result <- chisq.test(table(cleaned_data$subject_race, cleaned_data$officer_race))
# Print the result
cat("The chi-square result is", chisq_result)
# Chi-Square test for association between subject_race and officer_race
chisq_result <- chisq.test(table(cleaned_data$subject_race, cleaned_data$officer_race))
# Extracting chi-square statistic and p-value
chi_square_statistic <- chisq_result$statistic
p_value <- chisq_result$p.value
# Print the result
cat("The chi-square statistic is", chi_square_statistic, "and the p-value is", p_value, "\n")
# Chi-Square test for association between subject_race and officer_race
chisq_result <- chisq.test(table(cleaned_data$subject_race, cleaned_data$officer_race))
print(chisq_result)
# Performing ANOVA to check if officer race impacts subject race in determining arrests
anova_result <- aov(officer_age ~ subject_race * officer_race, data = cleaned_data)
summary(anova_result)
knitr::opts_chunk$set(echo = TRUE)
data=read.csv("Chicago Police Stops Dataset.csv")
data
str(data)
xkablesummary(data, title = "Summary of Dataset")
library(ezids)
xkablesummary(data, title = "Summary of Dataset")
colSums(is.na(data))
#removing missing values
cleaned_data<-na.omit(data)
str(cleaned_data)
xkablesummary(cleaned_data, title = "Summary of Cleaned Dataset")
colSums(is.na(cleaned_data))
barplot(table(cleaned_data$subject_race), main="Distribution of Stops by Race", col="lightblue")
boxplot(cleaned_data$subject_age ~ cleaned_data$subject_race, main="Age Distribution by Subject Race")
boxplot(cleaned_data$officer_age ~ cleaned_data$officer_race, main="Age Distribution by Officer Age")
cleansubject_age=outlierKD2(cleaned_data,subject_age,rm=TRUE,qqplt = TRUE)
cleanofficer_age=outlierKD2(cleaned_data,officer_age,rm=TRUE,qqplt = TRUE)
# Removing outliers from subject_age using IQR
Q1_subject <- quantile(cleaned_data$subject_age, 0.25)
Q3_subject <- quantile(cleaned_data$subject_age, 0.75)
IQR_subject <- Q3_subject - Q1_subject
# Define lower and upper bounds for subject_age
lower_bound_subject <- Q1_subject - 1.5 * IQR_subject
upper_bound_subject <- Q3_subject + 1.5 * IQR_subject
# Filter out rows with outliers in subject_age
cleaned_data <- cleaned_data[cleaned_data$subject_age >= lower_bound_subject & cleaned_data$subject_age <= upper_bound_subject, ]
# Removing outliers from officer_age using IQR
Q1_officer <- quantile(cleaned_data$officer_age, 0.25)
Q3_officer <- quantile(cleaned_data$officer_age, 0.75)
IQR_officer <- Q3_officer - Q1_officer
# Define lower and upper bounds for officer_age
lower_bound_officer <- Q1_officer - 1.5 * IQR_officer
upper_bound_officer <- Q3_officer + 1.5 * IQR_officer
# Filter out rows with outliers in officer_age
cleaned_data <- cleaned_data[cleaned_data$officer_age >= lower_bound_officer & cleaned_data$officer_age <= upper_bound_officer, ]
nrow(cleaned_data)
summary(cleaned_data$subject_age)
summary(cleaned_data$officer_age)
# Removing rows where subject_race or officer_race is "unknown"
cleaned_data <- cleaned_data[!(cleaned_data$subject_race == "unknown" | cleaned_data$officer_race == "unknown"), ]
# Ensuring subject_race and officer_race are factors
cleaned_data$subject_race <- as.factor(cleaned_data$subject_race)
cleaned_data$officer_race <- as.factor(cleaned_data$officer_race)
# Chi-Square test for association between subject_race and officer_race
chisq_result <- chisq.test(table(cleaned_data$subject_race, cleaned_data$officer_race))
print(chisq_result)
# Performing ANOVA to check if officer race impacts subject race in determining arrests
anova_result <- aov(officer_age ~ subject_race * officer_race, data = cleaned_data)
summary(anova_result)
