---
title: "Uncovering Racial and Demographic Trends in Chicago Police Stops: An Exploratory Analysis"
author: "Team 3"
date: "`r Sys.Date()`"
output:
  html_document:
    code_folding: hide
    number_sections: true
    toc: yes
    toc_depth: 3
    toc_float: yes
  pdf_document:
    toc: yes
    toc_depth: '3'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r basic_libraries, include=FALSE}
library(ezids)
library(ggplot2)
library(dplyr)
library(leaflet)
```

# Introduction 

The Chicago Police Stops dataset provides insights into the police stop practices in Chicago, focusing on location and potential racial and demographic disparities. This dataset was collected as part of the Stanford Open Policing Project and contains information about police stops in the city. Stanford Open Policing Project's goal is to create a repository detailing the interactions between police officers and the public. It includes various aspects of the subjects and officers involved in the stops, such as race, age, gender, and outcomes like searches and arrests. Also includes the type of violation and location where it was committed. The dataset serves as a foundation for examining how race, gender, violation, and officer demographics influence the likelihood of being stopped, searched, or arrested during a police stop.

## Source of the Dataset

This dataset comes from the Stanford Open Policing Project. The variables in the dataset include:

Variable |  Definition  
  :-:    |  :-- 
location | The location where the stop occurred
lat | The latitude of location
lng | The longitude of location
subject_race |	The race of the person stopped
subject_age | The age of the person stopped 
subject_gender | The gender of the person stopped
officer_race | The race of the officer conducting the stop
officer_age |	The age of the officer 
officer_gender | The gender of the officer stopping
search_made |	Whether a search was conducted during the stop 
arrest_made |	Whether an arrest was made during the stop 
violation |	The violation that prompted the stop

Source link: https://openpolicing.stanford.edu/data/

## SMART Questions

**1)** How do the subject's race and the officer's race influence the likelihood of arrest during police stops in Chicago, as observed in the dataset ?

**2)** How does the officer's gender influence the likelihood of arresting individuals of different races during police stops in Chicago, as measured by the association between officer gender and subject race in the arrest dataset?

## Glimplse of Dataset

```{r}
data=read.csv("il_chicago_2023_01_26.csv")
head(data, 5)
```

## Structure and Summary of Dataset

```{r}
str(data)
```

```{r}
xkablesummary(data, title = "Summary of Dataset")
```
# Cleaning Dataset
```{r}
data2 <- data[!(data$subject_race %in% c("unknown", "other") | data$officer_race %in% c("unknown", "other")), ]
```
 
We removed "unknown" and "other" races from subject_race and officer_race.
```{r}
nrow(data2)
```
## Null Values
```{r}
colSums(is.na(data2))
```
```{r}
#removing missing values
cleaned_data<-na.omit(data2)
```

## Post Removal of Null Values
After we removed the null values, we glimpse into the structure and sumary of dataset.
```{r}
str(cleaned_data)
```
```{r}
xkablesummary(cleaned_data, title = "Summary of Cleaned Dataset")
```

Cross checking for null values of dataset.
```{r}
colSums(is.na(cleaned_data))
```